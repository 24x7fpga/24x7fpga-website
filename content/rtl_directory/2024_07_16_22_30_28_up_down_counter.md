+++
title = "Up/Down Counter"
author = ["Kiran"]
date = 2024-07-16T22:30:00-04:00
tags = ["rtl"]
draft = false
css = "../../zcustom.css"
+++

[Design](https://github.com/24x7fpga/iVerilog/blob/master/design/up_down_cntr/up_down_cntr.sv) -- [Testbench](https://github.com/24x7fpga/iVerilog/blob/master/tb_design/tb_up_down_cntr/tb_up_down_cntr.sv) -- [RTL Design Directory]({{< relref "2024_06_05_00_21_53_rtl_design_directory.md" >}})


## Up/Down Counter: An Overview {#up-down-counter-an-overview}

An up/down counter, also known as a bidirectional counter, is a sequential digital circuit that can count in ascending or descending order of the number system in binary. The control signal dictates the direction of the counter.


### Design: 4-bit Up/Down Counter {#design-4-bit-up-down-counter}

A 4-bit up/down counter counts from 0000 -&gt; 1111, once the counter reaches its highest values it starts again from 0000. Similarly, when decrementing, once the counter reaches its lowest value, 0000, it goes back to 1111 and starts decrementing again. The control will decide whether to implement an increment counter or a decrement counter.


#### Verilog Code: 4-bit Up/Down Counter {#verilog-code-4-bit-up-down-counter}

The design behaves as an up counter when the control signal "up" is set and as a decrement counter when the control signal "up" is reset.

```verilog
module up_down_cntr #(parameter N = 4)(/*AUTOARG*/
   // Outputs
   dout,
   // Inputs
   up, clk, rst
   );
   // Outputs
   output [N-1:0] dout;
   // Inputs
   input	  up;
   input	  clk;
   input	  rst;


   logic [N-1:0] cntr;

   /*AUTOREG*/
   /*AUTOWIRE*/

   always_ff@(posedge clk) begin
      if(rst)
        cntr <= 0;
      else
        if(up)
          cntr <= cntr + 1;
        else
          cntr <= cntr - 1;
   end

   assign dout = cntr;

endmodule
```
