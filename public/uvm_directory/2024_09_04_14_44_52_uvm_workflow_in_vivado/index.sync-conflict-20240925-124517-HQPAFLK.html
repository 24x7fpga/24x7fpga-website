<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>UVM Workflow in Vivado | Home</title>
<meta name="keywords" content="uvm">
<meta name="description" content="UVM &ndash; UVM Vivado Script &ndash; UVM Python Script
The UVM (Universal Verification Methodology) workflow is centered around creating a testbench that integrates key UVM components such as drivers, monitors, and scoreboards, alongside the essential UVM library setup. Numerous commercial tools are available for simulating and verifying digital designs, including ModelSim, Cadence Xcelium, Synopsys VCS, Aldec Riviera-PRO, and Vivado Simulator. Another excellent option for experimenting with small-to-medium-sized verification projects is EDA Playground.">
<meta name="author" content="Kiran">
<link rel="canonical" href="http://localhost:1313/uvm_directory/2024_09_04_14_44_52_uvm_workflow_in_vivado/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.19a7d7ba8a856bc3605fc7ca61a989cac3905b8b7707571254a3f97e6b40052a.css" integrity="sha256-GafXuoqFa8NgX8fKYamJysOQW4t3B1cSVKP5fmtABSo=" rel="preload stylesheet" as="style">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/assets/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/assets/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/assets/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/uvm_directory/2024_09_04_14_44_52_uvm_workflow_in_vivado/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>

<link rel="stylesheet" href="../../zcustom.css">

<link rel="stylesheet" href="/css/syntax.css" !important>

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>


<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">Home</a>
            
            
            <div class="vertical-line" style="height: 20px;"></div>
            
            
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/rtl_directory/2024_06_05_00_21_53_rtl_design_directory" title="rtl">
                    <span> 


                           
                        
                         
                        rtl</span>  
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/sv_directory/2024_06_27_16_53_00_sv_verification_directory" title="sv">
                    <span> 


                           
                        
                         
                        sv</span>  
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/uvm_directory/2024_08_28_12_39_50_uvm_framework_directory" title="uvm">
                    <span> 


                           
                        
                         
                        uvm</span>  
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="">
                    <span> 


                           
                        
                            
                    
                    
                    

                    
                    
                    

                    
                    
                    
                    


                    
                    
                    
                    

                    
                    
                    
                    
                    
                    
                    
                    
                
                         
                        
                        <div style="text-decoration: none">
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 20"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" style="text-decoration: none">
                            <path d="M21 18V6H8L2 12L8 18H21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 12C12 13.1046 11.1046 14 10 14C8.89543 14 8 13.1046 8 12C8 10.8954 8.89543 10 10 10C11.1046 10 12 10.8954 12 12Z" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                        <line x1="7" y1="7" x2="7" y2="7"></line>
                        </svg> 
                        </div>
                        </span>  
                </a>
            </li>
        </ul>
    </nav>
</header>

<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      UVM Workflow in Vivado
    </h1>
    <div class="post-meta"><span title='2024-09-04 14:44:00 -0400 EDT'>September 4, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;760 words&nbsp;·&nbsp;Kiran

</div>
  </header> 
  <div class="post-content"><p><a href="https://github.com/24x7fpga/UVM">UVM</a> &ndash; <a href="https://github.com/24x7fpga/UVM/blob/main/uvm_tcl_script/uvm_run.tcl">UVM Vivado Script</a> &ndash; <a href="https://github.com/24x7fpga/PythonScripts/blob/master/uvm_scripts/uvm_run.py">UVM Python Script</a></p>
<p>The UVM (Universal Verification Methodology) workflow is centered around creating a testbench that integrates key UVM components such as drivers, monitors, and scoreboards, alongside the essential UVM library setup. Numerous commercial tools are available for simulating and verifying digital designs, including ModelSim, Cadence Xcelium, Synopsys VCS, Aldec Riviera-PRO, and Vivado Simulator. Another excellent option for experimenting with small-to-medium-sized verification projects is <a href="https://www.edaplayground.com/">EDA Playground</a>. EDA Playground offers the advantage of requiring no installation and provides access to multiple simulators for the design. Personally, I opted to use Vivado Simulator for the UVM verification process, as it seamlessly integrates into my existing workflow.</p>
<p>Vivado installation guide can be found <a href="https://24x7fpga.com/rtl_directory/2024_07_28_10_50_56_vivado_installation/">here</a>.</p>
<h2 id="vivado-setup-for-uvm-simulation">Vivado Setup for UVM Simulation<a hidden class="anchor" aria-hidden="true" href="#vivado-setup-for-uvm-simulation">#</a></h2>
<p>To use a pre-compiled UVM library, you need to adjust two key project settings. Open the project settings and navigate to the simulation section. Here, you will need to configure the settings to ensure the UVM library is properly utilized.</p>
<ul>
<li>Under the compilation tab, add &ldquo;-L UVM&rdquo; to <em>xsim.compile.xvlog.more_options</em>.</li>
</ul>
<figure>
    <img loading="lazy" src="/ox-hugo/uvm_comp.png"/> 
</figure>

<ul>
<li>Under the elaboration tab, add &ldquo;-L UVM&rdquo; to <em>xsim.elaborate.xelab_more_options</em>.</li>
</ul>
<figure>
    <img loading="lazy" src="/ox-hugo/uvm_elab.png"/> 
</figure>

<p>When using a tcl file to simulate the design, the following commands should be added to use the UVM library.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tcl" data-lang="tcl"><span style="display:flex;"><span>set_property <span style="color:#f92672">-</span>name <span style="color:#66d9ef">{</span>xsim.compile.xvlog.more_options<span style="color:#66d9ef">}</span> <span style="color:#f92672">-</span>value <span style="color:#66d9ef">{</span>-L uvm<span style="color:#66d9ef">}</span> <span style="color:#f92672">-</span>objects <span style="color:#66d9ef">[</span>get_filesets sim_1<span style="color:#66d9ef">]</span>
</span></span><span style="display:flex;"><span>set_property <span style="color:#f92672">-</span>name <span style="color:#66d9ef">{</span>xsim.elaborate.xelab.more_options<span style="color:#66d9ef">}</span> <span style="color:#f92672">-</span>value <span style="color:#66d9ef">{</span>-L uvm<span style="color:#66d9ef">}</span> <span style="color:#f92672">-</span>objects <span style="color:#66d9ef">[</span>get_filesets sim_1<span style="color:#66d9ef">]</span>
</span></span></code></pre></div><ul>
<li><a href="https://support.xilinx.com/s/article/1070861?language=en_US">Xilinx Support</a></li>
</ul>
<h2 id="uvm-folder-structure">UVM Folder Structure<a hidden class="anchor" aria-hidden="true" href="#uvm-folder-structure">#</a></h2>
<p>The <a href="https://github.com/24x7fpga/UVM">UVM</a> folder on GitHub is organized into three key subfolders:</p>
<ol>
<li><a href="https://github.com/24x7fpga/UVM/tree/main/uvm_tcl_script">uvm_tcl_script</a>: This folder contains a Tcl file used for running simulations in Vivado. It provides the necessary script to automate the simulation process.</li>
<li><a href="https://github.com/24x7fpga/UVM/tree/main/uvm_templates">uvm_templates</a>: This folder includes all the UVM component files. These templates are used to generate the necessary UVM files based on your specific verification design, facilitated by a Python script.</li>
<li><a href="https://github.com/24x7fpga/UVM/tree/main/uvm_verification">uvm_verification</a>: Contains all the verification designs. This folder houses a set of designs for verification purposes.</li>
</ol>
<!-- raw HTML omitted -->
<pre tabindex="0"><code class="language-linux" data-lang="linux">UVM
.
├── uvm_tcl_script
│   └── uvm_run.tcl
├── uvm_templates
│   └── &lt; UVM Component files &gt;
└── uvm_verification
    └── test
    .
    .
    .
</code></pre><h2 id="python-script">Python Script<a hidden class="anchor" aria-hidden="true" href="#python-script">#</a></h2>
<p>To streamline the setup of UVM verification environments, we use a Python script named [uvm_design.py]. When executed, this script creates a new folder within the <em>uvm_verification</em> directory, named after the specified design. Inside this folder, it generates essential files such as the driver, sequencer, monitor, and scoreboard, based on predefined UVM templates.</p>
<p>Additionally, the <a href="https://github.com/24x7fpga/PythonScripts/tree/master/uvm_scripts">uvm_run.py</a> script can be used to automatically create a Vivado project within the design folder. The project will be named <em>verif</em>, facilitating a smooth setup for your verification workflow.</p>
<p>These scripts automate and simplify the process of initializing UVM projects and Vivado environment, enhancing efficiency in the verification tasks.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>uvm_design.py &lt;design_name&gt;    // create the design
</span></span><span style="display:flex;"><span>uvm_run.py &lt;design_name&gt;       // run the design
</span></span></code></pre></div><p>The Python scripts that I use in my workflow are organized in a dedicated folder available at  <a href="https://github.com/24x7fpga/PythonScripts/tree/master">Python Scripts</a> on GitHub. To ensure you can run these scripts from any directory in your terminal, you need to add the folder path to your .zshrc or .bashrc file. This step is essential for seamless execution of the scripts across your system.</p>
<h2 id="verification-flow">Verification Flow<a hidden class="anchor" aria-hidden="true" href="#verification-flow">#</a></h2>
<ol>
<li>
<p>Create the Design: Execute the [uvm_design.py] Python script to generate the design files. This script will create a design folder and populate the <em>uvm_verification</em> directory with all necessary files.</p>
</li>
<li>
<p>Complete the UVM Verification Files: Finalize and customize the UVM verification files to suit your specific verification needs.</p>
</li>
<li>
<p>Run the Design: Use the <a href="https://github.com/24x7fpga/PythonScripts/tree/master/uvm_scripts">uvm_run.py</a> script to initiate the simulation of your design.</p>
</li>
</ol>
<h2 id="example-test">Example Test<a hidden class="anchor" aria-hidden="true" href="#example-test">#</a></h2>
<p>To test the UVM scripts, a simple test design is created which is shown below.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-verilog" data-lang="verilog"><span style="display:flex;"><span><span style="color:#66d9ef">`include</span> <span style="color:#e6db74">&#34;uvm_macros.svh&#34;</span>
</span></span><span style="display:flex;"><span> import uvm_pkg<span style="color:#f92672">::*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">module</span> tb_test;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">initial</span> <span style="color:#66d9ef">begin</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">`uvm_info</span>(<span style="color:#e6db74">&#34;RUN_TEST&#34;</span>, <span style="color:#e6db74">&#34;Vivado Script Simulation Test&#34;</span>, UVM_NONE);
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">endmodule</span>
</span></span></code></pre></div><p>The primary objective of this design is to print a string using the <code>uvm_info</code> function. This design serves as a basic example to ensure that the UVM scripts are functioning correctly and that the information is being output as expected.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>uvm_verification
</span></span><span style="display:flex;"><span>.
</span></span><span style="display:flex;"><span>└── test
</span></span><span style="display:flex;"><span>    ├── tb_test.sv
</span></span><span style="display:flex;"><span>    └── verif
</span></span><span style="display:flex;"><span>        ├── tb_test.cache
</span></span><span style="display:flex;"><span>        ├── tb_test.hw
</span></span><span style="display:flex;"><span>        ├── tb_test.ip_user_files
</span></span><span style="display:flex;"><span>        ├── tb_test.sim
</span></span><span style="display:flex;"><span>        └── tb_test.xpr
</span></span></code></pre></div><p>The design files are organized under the <em>test</em> directory, ensuring that all source code is conveniently located in one place. Testbench top module is labeled as the design name prefixed with &rsquo;tb&rsquo;. For the design example, the design name is &rsquo;test&rsquo;, and &rsquo;tb_test&rsquo; is the testbench top module. When you execute the <a href="https://github.com/24x7fpga/PythonScripts/tree/master/uvm_scripts">uvm_run.py</a> script, a new Vivado project is generated within the <em>verif</em> directory. This structure helps maintain a clear separation between design sources and verification projects, streamlining the workflow and project management.</p>
<figure>
    <img loading="lazy" src="/ox-hugo/uvm_sim.png"/> 
</figure>

<p>Below is the result of the simulation. The design outputs the string &ldquo;[RUN TEST] Vivado Script Simulation Test&rdquo; as intended.</p>
<figure>
    <img loading="lazy" src="/ox-hugo/uvm_sim_result.png"/> 
</figure>



  </div>



  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/uvm/">Uvm</a></li>
    </ul>



    <div class="bottom-line" ></div>
    
    
    
      <img src="/img/org_mode.png" class="center" alt="footer" style="max-width:50px" />
    

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://localhost:1313/"></a></span>
        
        


</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><footer class="footer">

</footer>



<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
