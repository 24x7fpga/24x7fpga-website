<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Ring Counter | Home</title>
<meta name="keywords" content="rtl">
<meta name="description" content="Design &ndash; Testbench &ndash; RTL Design Directory
Ring Counter: An Overview A ring counter is a type of shift register that where the output of the last register is fed to the input of the first register forming a type of circular shift register. There are two types of ring counters based on how the last bit is fed to the input and they are:
Simple Ring Counter Twisted Ring Counter Simple Ring Counter A simple ring counter is where the output of the last register is fed to the input of the first register.">
<meta name="author" content="Kiran">
<link rel="canonical" href="https://24x7fpga.com/rtl_directory/2024_07_22_11_17_17_ring_counter/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.526ee71d2bda4e817faf8e1337ba879150fa995e4bf978a970ab1988033bc2c6.css" integrity="sha256-Um7nHSvaToF/r44TN7qHkVD6mV5L&#43;XipcKsZiAM7wsY=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://24x7fpga.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://24x7fpga.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://24x7fpga.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://24x7fpga.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://24x7fpga.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>

<link rel="stylesheet" href="../../zcustom.css">

<meta property="og:title" content="Ring Counter" />
<meta property="og:description" content="Design &ndash; Testbench &ndash; RTL Design Directory
Ring Counter: An Overview A ring counter is a type of shift register that where the output of the last register is fed to the input of the first register forming a type of circular shift register. There are two types of ring counters based on how the last bit is fed to the input and they are:
Simple Ring Counter Twisted Ring Counter Simple Ring Counter A simple ring counter is where the output of the last register is fed to the input of the first register." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://24x7fpga.com/rtl_directory/2024_07_22_11_17_17_ring_counter/" /><meta property="article:section" content="rtl_directory" />
<meta property="article:published_time" content="2024-07-22T11:17:00-04:00" />
<meta property="article:modified_time" content="2024-07-22T11:17:00-04:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Ring Counter"/>
<meta name="twitter:description" content="Design &ndash; Testbench &ndash; RTL Design Directory
Ring Counter: An Overview A ring counter is a type of shift register that where the output of the last register is fed to the input of the first register forming a type of circular shift register. There are two types of ring counters based on how the last bit is fed to the input and they are:
Simple Ring Counter Twisted Ring Counter Simple Ring Counter A simple ring counter is where the output of the last register is fed to the input of the first register."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Rtl_directories",
      "item": "https://24x7fpga.com/rtl_directory/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Ring Counter",
      "item": "https://24x7fpga.com/rtl_directory/2024_07_22_11_17_17_ring_counter/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Ring Counter",
  "name": "Ring Counter",
  "description": "Design \u0026ndash; Testbench \u0026ndash; RTL Design Directory\nRing Counter: An Overview A ring counter is a type of shift register that where the output of the last register is fed to the input of the first register forming a type of circular shift register. There are two types of ring counters based on how the last bit is fed to the input and they are:\nSimple Ring Counter Twisted Ring Counter Simple Ring Counter A simple ring counter is where the output of the last register is fed to the input of the first register.",
  "keywords": [
    "rtl"
  ],
  "articleBody": "Design – Testbench – RTL Design Directory\nRing Counter: An Overview A ring counter is a type of shift register that where the output of the last register is fed to the input of the first register forming a type of circular shift register. There are two types of ring counters based on how the last bit is fed to the input and they are:\nSimple Ring Counter Twisted Ring Counter Simple Ring Counter A simple ring counter is where the output of the last register is fed to the input of the first register. At reset, the initial values of the first register is set to high (‘1’) and the rest to low (‘0’). On every clock cycle, the initial set bit is shifted right. Therefore, the total number of unused states is given by (2**N-N) where N is the input width. For a 4-bit simple ring counter, the input N = 4, the total states are 2**4 = 16 and the total number of unused states is 2**4 - 4 = 12.\nVerilog Code: 4-bit Ring counter module simp_ring_cntr #(parameter N = 4)(/*AUTOARG*/ // Outputs sr_cntr, // Inputs clk, rst ); // outputs output [N-1:0] sr_cntr; // inputs input\tclk; input\trst; /*AUTOREG*/ // Beginning of automatic regs (for this module's undeclared outputs) reg [N-1:0]\tsr_cntr; // End of automatics /*AUTOWIRE*/ always_ff@(posedge clk) if(rst) sr_cntr \u003c= 1; else sr_cntr \u003c= {sr_cntr[0],sr_cntr[N-1:1]}; endmodule // simp_ring_cntr Twisted Ring Counter A twisted ring counter is one where the output of the last register is negated and fed to the input of the first register. Unlike in a simple ring counter, on reset, all the registers are cleared or set to zero. Since the inverted output of the last register is fed to the input of the first register, the total number of unused states is given by (2**N-2N) where N is the input width. For a 4-bit twisted ring counter, the input N = 4, the total number of states is 2**4 = 16 and the total number of unused states are 2**4 - 2*4 = 8.\nVerilog Code: 4-bit Twister Ring Counter module twist_ring_cntr #(parameter N = 4) (/*AUTOARG*/ // Outputs tr_cntr, // Inputs clk, rst ); // outputs output [N-1:0] tr_cntr; // input input\tclk; input\trst; /*AUTOREG*/ // Beginning of automatic regs (for this module's undeclared outputs) reg [N-1:0]\ttr_cntr; // End of automatics /*AUTOWIRE*/ always_ff@(posedge clk) if(rst) tr_cntr \u003c= 0; else tr_cntr \u003c={~tr_cntr[0], tr_cntr[N-1:1]}; endmodule // twist_ring_cntr ",
  "wordCount" : "410",
  "inLanguage": "en",
  "datePublished": "2024-07-22T11:17:00-04:00",
  "dateModified": "2024-07-22T11:17:00-04:00",
  "author":[{
    "@type": "Person",
    "name": "Kiran"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://24x7fpga.com/rtl_directory/2024_07_22_11_17_17_ring_counter/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Home",
    "logo": {
      "@type": "ImageObject",
      "url": "https://24x7fpga.com/favicon.ico"
    }
  }
}
</script><link rel="stylesheet" href="/css/syntax.css" !important>

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>


<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://24x7fpga.com/" accesskey="h" title="Home (Alt + H)">Home</a>
            
            
            <div class="vertical-line" style="height: 20px;"></div>
            
            
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://24x7fpga.com/about/about" title="about">
                    <span> 


                           
                        
                         
                        about</span>  
                </a>
            </li>
            <li>
                <a href="https://24x7fpga.com/research/2024_07_08_10_15_40_research" title="research">
                    <span> 


                           
                        
                         
                        research</span>  
                </a>
            </li>
            <li>
                <a href="https://24x7fpga.com/rtl_directory/2024_06_05_00_21_53_rtl_design_directory" title="rtl directory">
                    <span> 


                           
                        
                         
                        rtl directory</span>  
                </a>
            </li>
            <li>
                <a href="https://24x7fpga.com/sv_directory/2024_06_27_16_53_00_sv_verification_directory" title="sv directory">
                    <span> 


                           
                        
                         
                        sv directory</span>  
                </a>
            </li>
            <li>
                <a href="https://24x7fpga.com/tags/" title="">
                    <span> 


                           
                        
                            
                    
                    
                    

                    
                    
                    

                    
                    
                    
                    


                    
                    
                    
                    

                    
                    
                    
                    
                    
                    
                    
                    
                
                         
                        
                        <div style="text-decoration: none">
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 20"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" style="text-decoration: none">
                            <path d="M21 18V6H8L2 12L8 18H21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 12C12 13.1046 11.1046 14 10 14C8.89543 14 8 13.1046 8 12C8 10.8954 8.89543 10 10 10C11.1046 10 12 10.8954 12 12Z" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                        <line x1="7" y1="7" x2="7" y2="7"></line>
                        </svg> 
                        </div>
                        </span>  
                </a>
            </li>
        </ul>
    </nav>
</header>

<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Ring Counter
    </h1>
    <div class="post-meta"><span title='2024-07-22 11:17:00 -0400 EDT'>July 22, 2024</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;410 words&nbsp;·&nbsp;Kiran

</div>
  </header> 
  <div class="post-content"><p><a href="https://github.com/24x7fpga/iVerilog/blob/master/design/ring_cntr/ring_cntr.sv">Design</a> &ndash; <a href="https://github.com/24x7fpga/iVerilog/blob/master/tb_design/tb_ring_cntr/tb_ring_cntr.sv">Testbench</a> &ndash; <a href="/rtl_directory/2024_06_05_00_21_53_rtl_design_directory/">RTL Design Directory</a></p>
<h2 id="ring-counter-an-overview">Ring Counter: An Overview<a hidden class="anchor" aria-hidden="true" href="#ring-counter-an-overview">#</a></h2>
<p>A ring counter is a type of shift register that where the output of the last register is fed to the input of the first register forming a type of circular shift register. There are two types of ring counters based on how the last bit is fed to the input and they are:</p>
<ol>
<li>Simple Ring Counter</li>
<li>Twisted Ring Counter</li>
</ol>
<h3 id="simple-ring-counter">Simple Ring Counter<a hidden class="anchor" aria-hidden="true" href="#simple-ring-counter">#</a></h3>
<p>A simple ring counter is where the output of the last register is fed to the input of the first register. At reset, the initial values of the first register is set to high (&lsquo;1&rsquo;) and the rest to low (&lsquo;0&rsquo;). On every clock cycle, the initial set bit is shifted right. Therefore, the total number of unused states is given by (2**N-N) where N is the input width. For a 4-bit simple ring counter, the input N = 4, the total states are 2**4 = 16 and the total number of unused states is 2**4 - 4 = 12.</p>
<h4 id="verilog-code-4-bit-ring-counter">Verilog Code: 4-bit Ring counter<a hidden class="anchor" aria-hidden="true" href="#verilog-code-4-bit-ring-counter">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-verilog" data-lang="verilog"><span style="display:flex;"><span><span style="color:#66d9ef">module</span> simp_ring_cntr #(<span style="color:#66d9ef">parameter</span> N <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>)(<span style="color:#75715e">/*AUTOARG*/</span>
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// Outputs
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>   sr_cntr,
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// Inputs
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>   clk, rst
</span></span><span style="display:flex;"><span>   );
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// outputs
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>   <span style="color:#66d9ef">output</span> [N<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>] sr_cntr;
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// inputs
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>   <span style="color:#66d9ef">input</span>	  clk;
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">input</span>	  rst;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">/*AUTOREG*/</span>
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// Beginning of automatic regs (for this module&#39;s undeclared outputs)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>   <span style="color:#66d9ef">reg</span> [N<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>]		sr_cntr;
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// End of automatics
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>   <span style="color:#75715e">/*AUTOWIRE*/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">always_ff</span>@(<span style="color:#66d9ef">posedge</span> clk)
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">if</span>(rst)
</span></span><span style="display:flex;"><span>       sr_cntr <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>       sr_cntr <span style="color:#f92672">&lt;=</span> {sr_cntr[<span style="color:#ae81ff">0</span>],sr_cntr[N<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span>]};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">endmodule</span> <span style="color:#75715e">// simp_ring_cntr
</span></span></span></code></pre></div><h2 id="twisted-ring-counter">Twisted Ring Counter<a hidden class="anchor" aria-hidden="true" href="#twisted-ring-counter">#</a></h2>
<p>A twisted ring counter is one where the output of the last register is negated and fed to the input of the first register. Unlike in a simple ring counter, on reset, all the registers are cleared or set to zero. Since the inverted output of the last register is fed to the input of the first register, the total number of unused states is given by (2**N-2N) where N is the input width. For a 4-bit twisted ring counter, the input N = 4, the total number of states is 2**4 = 16 and the total number of unused states are 2**4 - 2*4 = 8.</p>
<h4 id="verilog-code-4-bit-twister-ring-counter">Verilog Code: 4-bit Twister Ring Counter<a hidden class="anchor" aria-hidden="true" href="#verilog-code-4-bit-twister-ring-counter">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-verilog" data-lang="verilog"><span style="display:flex;"><span><span style="color:#66d9ef">module</span> twist_ring_cntr #(<span style="color:#66d9ef">parameter</span> N <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>) (<span style="color:#75715e">/*AUTOARG*/</span>
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// Outputs
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>   tr_cntr,
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// Inputs
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>   clk, rst
</span></span><span style="display:flex;"><span>   );
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// outputs
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>   <span style="color:#66d9ef">output</span> [N<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>] tr_cntr;
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// input
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>   <span style="color:#66d9ef">input</span>	  clk;
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">input</span>	  rst;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">/*AUTOREG*/</span>
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// Beginning of automatic regs (for this module&#39;s undeclared outputs)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>   <span style="color:#66d9ef">reg</span> [N<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>]		tr_cntr;
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// End of automatics
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>   <span style="color:#75715e">/*AUTOWIRE*/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">always_ff</span>@(<span style="color:#66d9ef">posedge</span> clk)
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">if</span>(rst)
</span></span><span style="display:flex;"><span>       tr_cntr <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>       tr_cntr <span style="color:#f92672">&lt;=</span>{<span style="color:#f92672">~</span>tr_cntr[<span style="color:#ae81ff">0</span>], tr_cntr[N<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span>]};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">endmodule</span> <span style="color:#75715e">// twist_ring_cntr
</span></span></span></code></pre></div>

  </div>



  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://24x7fpga.com/tags/rtl/">rtl</a></li>
    </ul>



    <div class="bottom-line" ></div>
    
    
    
      <img src="/img/org_mode.png" class="center" alt="footer" style="max-width:50px" />
    

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://24x7fpga.com/"></a></span>
        
        


</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><footer class="footer">

</footer>



<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
