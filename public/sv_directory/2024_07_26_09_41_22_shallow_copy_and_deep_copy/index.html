<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Liste - https://24x7fpga.com/">
    <title>Shallow Copy and Deep Copy | &gt; home</title>
    <meta name="description" content="A minimal hugo theme focus on content">
    <meta property="og:title" content="Shallow Copy and Deep Copy" />
<meta property="og:description" content="SV Verification Directory
Shallow Copy and Deep Copy SystemVerilog provides two means of copying or duplicating objects to keep a method from modifying the original. The two methods are shallow copy and deep copy, and understanding these methods is crucial for effective memory management.
Shallow Copy Shallow copy is a method where the objects are duplicated to a new memory location. If the class contains a handle to another class, only the handle&rsquo;s value is copied not the lower level object, meaning both the original and copied object share the same instances of nested objects." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://24x7fpga.com/sv_directory/2024_07_26_09_41_22_shallow_copy_and_deep_copy/" /><meta property="article:section" content="sv_directory" />
<meta property="article:published_time" content="2024-07-26T09:41:00-04:00" />
<meta property="article:modified_time" content="2024-07-26T09:41:00-04:00" />


    <meta itemprop="name" content="Shallow Copy and Deep Copy">
<meta itemprop="description" content="SV Verification Directory
Shallow Copy and Deep Copy SystemVerilog provides two means of copying or duplicating objects to keep a method from modifying the original. The two methods are shallow copy and deep copy, and understanding these methods is crucial for effective memory management.
Shallow Copy Shallow copy is a method where the objects are duplicated to a new memory location. If the class contains a handle to another class, only the handle&rsquo;s value is copied not the lower level object, meaning both the original and copied object share the same instances of nested objects."><meta itemprop="datePublished" content="2024-07-26T09:41:00-04:00" />
<meta itemprop="dateModified" content="2024-07-26T09:41:00-04:00" />
<meta itemprop="wordCount" content="691">
<meta itemprop="keywords" content="sv," />
    
    <link rel="canonical" href="https://24x7fpga.com/sv_directory/2024_07_26_09_41_22_shallow_copy_and_deep_copy/">
    <link rel="icon" href="https://24x7fpga.com//assets/favicon.ico">
    <link rel="dns-prefetch" href="https://www.google-analytics.com">
    <link href="https://www.google-analytics.com" rel="preconnect" crossorigin>
    <link rel="alternate" type="application/atom+xml" title="&gt; home" href="https://24x7fpga.com//atom.xml" />
    <link rel="alternate" type="application/json" title="&gt; home" href="https://24x7fpga.com//feed.json" />
    <link rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII=">
    
    
    <style>*,:after,:before{box-sizing:border-box;padding:0}body{font:1rem/1.5 '-apple-system',BlinkMacSystemFont,avenir next,avenir,helvetica,helvetica neue,ubuntu,roboto,noto,segoe ui,arial,sans-serif;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;padding:2rem;background:#f5f5f5;color:#000}.skip-link{position:absolute;top:-40px;left:0;background:#eee;z-index:100}.skip-link:focus{top:0}header{line-height:2;padding-bottom:1.5rem}.link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.time{font-variant-numeric:tabular-nums;white-space:nowrap}blockquote{border-left:5px solid #eee;padding-left:1rem;margin:0}a,a:visited{color:inherit}a:hover,a.heading-link{text-decoration:none}pre{padding:.5rem;overflow:auto;overflow-x:scroll;overflow-wrap:normal}ul{list-style-type:square}ul,ol{padding-left:1.2rem}.list{line-height:2;list-style-type:none;padding-left:0}.list li{padding-bottom:.1rem}.meta{color:#777}.content{max-width:70ch;margin:0 auto}header{line-height:2;display:flex;justify-content:space-between;padding-bottom:1rem}header a{text-decoration:none}header ul{list-style-type:none;padding:0}header li,header a{display:inline}h2.post{padding-top:.5rem}header ul a:first-child{padding-left:1rem}.nav{height:1px;background:#000;content:'';max-width:10%}.list li{display:flex;align-items:baseline}.list li time{flex:initial}.hr-list{margin-top:0;margin-bottom:0;margin-right:.5rem;margin-left:.5rem;height:1px;border:0;border-bottom:1px dotted #ccc;flex:1 0 1rem}.m,hr{border:0;margin:3rem 0}img{max-width:100%;height:auto;display:block;margin-left:auto;margin-right:auto}.post-date{margin:5% 0}.index-date{color:#9a9a9a}.animate-blink{animation:opacity 1.4s infinite;opacity:1;color:#96e9ae}@keyframes opacity{0%{opacity:1}50%{opacity:.5}100%{opacity:0}}.tags{display:flex;justify-content:space-between}.tags ul{padding:0;margin:0}.tags li{display:inline}.avatar{height:250px;width:250px;position:relative;margin:-10px 0 0 15px;float:right;border-radius:50%}table{width:100%;border-collapse:collapse}th,td{border:1px solid #ddd;text-align:left;padding:8px}th{background-color:#f2f2f2}code,pre{font-family:San Francisco Mono,Monaco,consolas,lucida console,dejavu sans mono,bitstream vera sans mono,monospace;font-size:normal;font-size:small;background-color:#e9e9e9;border-radius:3px}code{border:none}.highlight pre{background-color:#e9e9e9!important;border-radius:5px} </style>
  
    
  
  
  <script type="application/ld+json">
  {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "articleSection": "sv_directory",
      "name": "Shallow Copy and Deep Copy",
      "headline": "Shallow Copy and Deep Copy",
      "alternativeHeadline": "",
      "description": "SV Verification Directory\nShallow Copy and Deep Copy SystemVerilog provides two means of copying or duplicating objects to keep a method from modifying the original. The two methods are shallow copy and deep copy, and understanding these methods is crucial for effective memory management.\nShallow Copy Shallow copy is a method where the objects are duplicated to a new memory location. If the class contains a handle to another class, only the handle\u0026rsquo;s value is copied not the lower level object, meaning both the original and copied object share the same instances of nested objects.",
      "inLanguage": "en-us",
      "isFamilyFriendly": "true",
      "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https:\/\/24x7fpga.com\/sv_directory\/2024_07_26_09_41_22_shallow_copy_and_deep_copy\/"
      },
      "author" : {
          "@type": "Person",
          "name": "[Kiran]"
      },
      "creator" : {
          "@type": "Person",
          "name": "[Kiran]"
      },
      "accountablePerson" : {
          "@type": "Person",
          "name": "[Kiran]"
      },
      "copyrightHolder" : "\u003e home",
      "copyrightYear" : "2024",
      "dateCreated": "2024-07-26T09:41:00.00Z",
      "datePublished": "2024-07-26T09:41:00.00Z",
      "dateModified": "2024-07-26T09:41:00.00Z",
      "publisher":{
          "@type":"Organization",
          "name": "\u003e home",
          "url": "https://24x7fpga.com/",
          "logo": {
              "@type": "ImageObject",
              "url": "https:\/\/24x7fpga.com\/assets\/favicon.ico",
              "width":"32",
              "height":"32"
          }
      },
      "image": "https://24x7fpga.com/assets/favicon.ico",
      "url" : "https:\/\/24x7fpga.com\/sv_directory\/2024_07_26_09_41_22_shallow_copy_and_deep_copy\/",
      "wordCount" : "691",
      "genre" : [ "sv" ],
      "keywords" : [ "sv" ]
  }
  </script>
  
  
  </head>

<body>
  <a class="skip-link" href="#main">Skip to main</a>
  <main id="main">
  <div class="content">
    <header>
<p style="padding: 0;margin: 0;">
  <a href="/">
    <b>&gt; home</b>
    <span class="text-stone-500 animate-blink">▮</span>
  </a>
</p>
<ul style="padding: 0;margin: 0;">
  
  
  <li class="">
    <a href="rtl_directory/2024_06_05_00_21_53_rtl_design_directory"><span>rtl</span></a>    
    
  <li class="">
    <a href="sv_directory/2024_06_27_16_53_00_sv_verification_directory"><span>sv</span></a>    
    
  <li class="">
    <a href="uvm_directory/2024_08_28_12_39_50_uvm_framework_directory"><span>uvm</span></a>    
    
  </li>
</ul>

</header>
<hr class="hr-list" style="padding: 0;margin: 0;">


    <section>
      <h2 class="post">Shallow Copy and Deep Copy</h2>
      <p><a href="/sv_directory/2024_06_27_16_53_00_sv_verification_directory/">SV Verification Directory</a></p>
<h2 id="shallow-copy-and-deep-copy">Shallow Copy and Deep Copy</h2>
<p>SystemVerilog provides two means of copying or duplicating objects to keep a method from modifying the original. The two methods are shallow copy and deep copy, and understanding these methods is crucial for effective memory management.</p>
<h3 id="shallow-copy">Shallow Copy</h3>
<p>Shallow copy is a method where the objects are duplicated to a new memory location. If the class contains a handle to another class, only the handle&rsquo;s value is copied not the lower level object, meaning both the original and copied object share the same instances of nested objects.</p>
<h4 id="class-assignment-and-shallow-copy">Class assignment and Shallow Copy</h4>
<table>
<thead>
<tr>
<th>Class Assignment</th>
<th>Shallow Copy</th>
</tr>
</thead>
<tbody>
<tr>
<td>obj1 = obj2</td>
<td>obj1 = new obj2</td>
</tr>
<tr>
<td>Both the objects point to the same memory</td>
<td>Allocates memory, copies the variable, and returns the memory handle</td>
</tr>
<tr>
<td>Changes made to any object will reflect in both</td>
<td>Changes made to the copied objects will not reflect in the parent object</td>
</tr>
</tbody>
</table>
<h4 id="example-code">Example Code</h4>
<p>The example shown below shows the example of shallow copy and the <strong>limitation</strong> of nested objects in shallow copy. Along with the difference in class assignment and shallow copy.</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-verilog" data-lang="verilog"><span style="display:flex;"><span><span style="color:#75715e">// class
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#111">class</span> <span style="color:#111">grade</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">string</span> <span style="color:#111">mrk</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">function</span> <span style="color:#111">new</span> <span style="color:#111">(</span><span style="color:#00a8c8">string</span> <span style="color:#111">mrk</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">this</span><span style="color:#111">.</span><span style="color:#111">mrk</span> <span style="color:#f92672">=</span> <span style="color:#111">mrk</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">endfunction</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#111">endclass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// class
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#111">class</span> <span style="color:#111">name</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">string</span> <span style="color:#111">student</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">grade</span> <span style="color:#111">mrk</span><span style="color:#111">;</span>                  <span style="color:#75715e">// class handle
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">function</span> <span style="color:#111">new</span> <span style="color:#111">(</span><span style="color:#00a8c8">string</span> <span style="color:#111">student</span><span style="color:#111">,</span> <span style="color:#00a8c8">string</span> <span style="color:#111">mrk</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">this</span><span style="color:#111">.</span><span style="color:#111">student</span> <span style="color:#f92672">=</span> <span style="color:#111">student</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">this</span><span style="color:#111">.</span><span style="color:#111">mrk</span> <span style="color:#f92672">=</span> <span style="color:#111">new</span><span style="color:#111">(</span><span style="color:#111">mrk</span><span style="color:#111">);</span>      <span style="color:#75715e">// condstruct an object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#00a8c8">endfunction</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#111">endclass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">module</span> <span style="color:#111">shallow_copy</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">name</span> <span style="color:#111">std1</span><span style="color:#111">,</span> <span style="color:#111">std2</span><span style="color:#111">,</span> <span style="color:#111">std3</span><span style="color:#111">;</span>	  <span style="color:#75715e">// class handle
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">initial</span> <span style="color:#00a8c8">begin</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">std1</span> <span style="color:#f92672">=</span> <span style="color:#111">new</span><span style="color:#111">(</span><span style="color:#d88200">&#34;John&#34;</span><span style="color:#111">,</span> <span style="color:#d88200">&#34;B&#34;</span><span style="color:#111">);</span> <span style="color:#75715e">// construct
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;------------------------- Display -------------------------&#34;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;STD1 =&gt; Student Name = %s; Grade = %s&#34;</span><span style="color:#111">,</span> <span style="color:#111">std1</span><span style="color:#111">.</span><span style="color:#111">student</span><span style="color:#111">,</span> <span style="color:#111">std1</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">std2</span> <span style="color:#f92672">=</span> <span style="color:#111">new</span> <span style="color:#111">std1</span><span style="color:#111">;</span>         <span style="color:#75715e">// shallow copy
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;---------------------- Shallow Copy -----------------------&#34;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;STD2 =&gt; Student Name = %s; Grade = %s&#34;</span><span style="color:#111">,</span> <span style="color:#111">std2</span><span style="color:#111">.</span><span style="color:#111">student</span><span style="color:#111">,</span> <span style="color:#111">std2</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;------------------ Change Name and Grade ------------------&#34;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">std2</span><span style="color:#111">.</span><span style="color:#111">student</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;Noah&#34;</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">std2</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">.</span><span style="color:#111">mrk</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;A&#34;</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;STD2 =&gt; Student Name = %s; Grade = %s&#34;</span><span style="color:#111">,</span> <span style="color:#111">std2</span><span style="color:#111">.</span><span style="color:#111">student</span><span style="color:#111">,</span> <span style="color:#111">std2</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;---------------- Limitation of Shallow Copy ---------------&#34;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;STD1 =&gt; Student Name = %s; Grade = %s =&gt; %s&#39;s Grade is also changed&#34;</span><span style="color:#111">,</span> <span style="color:#111">std1</span><span style="color:#111">.</span><span style="color:#111">student</span><span style="color:#111">,</span> <span style="color:#111">std1</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">,</span> <span style="color:#111">std1</span><span style="color:#111">.</span><span style="color:#111">student</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">std3</span> <span style="color:#f92672">=</span> <span style="color:#111">std1</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;--------------------- Class assignment --------------------&#34;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;STD3 =&gt; Student Name = %s; Grade = %s&#34;</span><span style="color:#111">,</span> <span style="color:#111">std3</span><span style="color:#111">.</span><span style="color:#111">student</span><span style="color:#111">,</span> <span style="color:#111">std3</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">std3</span><span style="color:#111">.</span><span style="color:#111">student</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;Theo&#34;</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">std3</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">.</span><span style="color:#111">mrk</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;C&#34;</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;------------------ Change Name and Grade ------------------&#34;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;STD3 =&gt; Student Name = %s; Grade = %s&#34;</span><span style="color:#111">,</span> <span style="color:#111">std3</span><span style="color:#111">.</span><span style="color:#111">student</span><span style="color:#111">,</span> <span style="color:#111">std3</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;--------------------- Class assignment --------------------&#34;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;----------------- Points to the same memory ---------------&#34;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;----------------- Original is also changed ----------------&#34;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;STD1 =&gt; Student Name = %s; Grade = %s&#34;</span><span style="color:#111">,</span> <span style="color:#111">std1</span><span style="color:#111">.</span><span style="color:#111">student</span><span style="color:#111">,</span> <span style="color:#111">std1</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">endmodule</span>
</span></span></code></pre></div><p><a href="https://www.edaplayground.com/x/PkaX">Execute the code in EDA Playground</a></p>
<h3 id="deep-copy">Deep Copy</h3>
<p>One method to overcome the limitation of shallow copy is to write a copy function inside the class to make a copy of the object. This method is called deep copy, which duplicates not only the object itself but also all the objects referenced by the original object, creating independent copies of these nested objects.</p>
<h4 id="example-code">Example Code</h4>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-verilog" data-lang="verilog"><span style="display:flex;"><span><span style="color:#75715e">// class
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#111">class</span> <span style="color:#111">grade</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">string</span> <span style="color:#111">mrk</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">function</span> <span style="color:#111">new</span><span style="color:#111">(</span><span style="color:#00a8c8">string</span> <span style="color:#111">mrk</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">this</span><span style="color:#111">.</span><span style="color:#111">mrk</span> <span style="color:#f92672">=</span> <span style="color:#111">mrk</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">endfunction</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//deep copy function
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#00a8c8">function</span> <span style="color:#111">grade</span> <span style="color:#111">copy</span><span style="color:#111">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">copy</span> <span style="color:#f92672">=</span> <span style="color:#111">new</span><span style="color:#111">(</span><span style="color:#111">this</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">endfunction</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#111">endclass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// class
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#111">class</span> <span style="color:#111">name</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">string</span> <span style="color:#111">student</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">grade</span> <span style="color:#111">mrk</span><span style="color:#111">;</span>                     <span style="color:#75715e">// class handle
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">function</span> <span style="color:#111">new</span><span style="color:#111">(</span><span style="color:#00a8c8">string</span> <span style="color:#111">student</span><span style="color:#111">,</span> <span style="color:#00a8c8">string</span> <span style="color:#111">mrk</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">this</span><span style="color:#111">.</span><span style="color:#111">student</span> <span style="color:#f92672">=</span> <span style="color:#111">student</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">this</span><span style="color:#111">.</span><span style="color:#111">mrk</span> <span style="color:#f92672">=</span> <span style="color:#111">new</span><span style="color:#111">(</span><span style="color:#111">mrk</span><span style="color:#111">);</span>         <span style="color:#75715e">// condstruct an object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#00a8c8">endfunction</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// deep copy function
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#00a8c8">function</span> <span style="color:#111">name</span> <span style="color:#111">copy</span><span style="color:#111">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">copy</span> <span style="color:#f92672">=</span> <span style="color:#111">new</span><span style="color:#111">(</span><span style="color:#111">this</span><span style="color:#111">.</span><span style="color:#111">student</span><span style="color:#111">,</span> <span style="color:#111">this</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">endfunction</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#111">endclass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">module</span> <span style="color:#111">shallow_copy</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">name</span> <span style="color:#111">std1</span><span style="color:#111">,</span> <span style="color:#111">std2</span><span style="color:#111">;</span>	       <span style="color:#75715e">// class handle
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">initial</span> <span style="color:#00a8c8">begin</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">std1</span> <span style="color:#f92672">=</span> <span style="color:#111">new</span><span style="color:#111">(</span><span style="color:#d88200">&#34;John&#34;</span><span style="color:#111">,</span> <span style="color:#d88200">&#34;B&#34;</span><span style="color:#111">);</span>     <span style="color:#75715e">// construct
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;------------------------- Display -------------------------&#34;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;STD1 =&gt; Student Name = %s; Grade = %s&#34;</span><span style="color:#111">,</span> <span style="color:#111">std1</span><span style="color:#111">.</span><span style="color:#111">student</span><span style="color:#111">,</span> <span style="color:#111">std1</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">std2</span> <span style="color:#f92672">=</span> <span style="color:#111">std1</span><span style="color:#111">.</span><span style="color:#111">copy</span><span style="color:#111">();</span>          <span style="color:#75715e">// deep copy
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;----------------------- Deep Copy -------------------------&#34;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;STD2 =&gt; Student Name = %s; Grade = %s&#34;</span><span style="color:#111">,</span> <span style="color:#111">std2</span><span style="color:#111">.</span><span style="color:#111">student</span><span style="color:#111">,</span> <span style="color:#111">std2</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;------------------ Change Name and Grade ------------------&#34;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">std2</span><span style="color:#111">.</span><span style="color:#111">student</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;Noah&#34;</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">std2</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">.</span><span style="color:#111">mrk</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;A&#34;</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;STD2 =&gt; Student Name = %s; Grade = %s&#34;</span><span style="color:#111">,</span> <span style="color:#111">std2</span><span style="color:#111">.</span><span style="color:#111">student</span><span style="color:#111">,</span> <span style="color:#111">std2</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;------------------ Advantage of Deep Copy -----------------&#34;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$display</span><span style="color:#111">(</span><span style="color:#d88200">&#34;STD1 =&gt; Student Name = %s; Grade = %s =&gt; %s&#39;s Grade is NOT changed&#34;</span><span style="color:#111">,</span> <span style="color:#111">std1</span><span style="color:#111">.</span><span style="color:#111">student</span><span style="color:#111">,</span> <span style="color:#111">std1</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">.</span><span style="color:#111">mrk</span><span style="color:#111">,</span> <span style="color:#111">std1</span><span style="color:#111">.</span><span style="color:#111">student</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">endmodule</span>
</span></span></code></pre></div><p><a href="https://www.edaplayground.com/x/vce5">Execute the code in EDA Playground</a></p>
<h3 id="point-to-remember">Point to Remember</h3>
<h4 id="shallow-copy">Shallow Copy:</h4>
<ul>
<li>Copies the object’s attributes but not the nested objects.</li>
<li>Shared references to nested objects, leading to potential side effects.</li>
<li>Faster to create but less independent.</li>
</ul>
<h4 id="deep-copy">Deep Copy:</h4>
<ul>
<li>Copies the object and all nested objects, creating entirely independent instances.</li>
<li>No shared references, avoiding unintended side effects.</li>
<li>More computationally intensive but safer for independent object manipulation.</li>
</ul>

      
      <div class="post-date">
        <span class="g time">July 26, 2024 </span> &#8729;
         
         <a href="https://24x7fpga.com/tags/sv/">sv</a>
      </div>
      
    </section>
    
  </div>
</main>
</body>
</html>
