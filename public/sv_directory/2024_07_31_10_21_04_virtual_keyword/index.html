<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Virtual Keyword | Home</title>
<meta name="keywords" content="sv">
<meta name="description" content="SV Verification Directory
Virtual Keyword Virtual keyword enables a child class to override a method defined in its parent class. When a virtual keyword is prefixed before a method in the parent class and if the base class handle is pointed to the extended class, then the extended class method handle will get assigned to the base class handle.
Once the virtual keyword is used for the parent class method, all the extended child classes become virtual.">
<meta name="author" content="Kiran">
<link rel="canonical" href="https://24x7fpga.com/sv_directory/2024_07_31_10_21_04_virtual_keyword/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.e0bcebb49b34af685aad681aefedaa259f0a0e52792ad5bbaf7f972714e1bd4d.css" integrity="sha256-4LzrtJs0r2harWga7&#43;2qJZ8KDlJ5KtW7r3&#43;XJxThvU0=" rel="preload stylesheet" as="style">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

<link rel="icon" href="https://24x7fpga.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://24x7fpga.com/assets/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://24x7fpga.com/assets/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://24x7fpga.com/assets/apple-touch-icon.png">
<link rel="mask-icon" href="https://24x7fpga.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>

<link rel="stylesheet" href="../../zcustom.css">

<meta property="og:title" content="Virtual Keyword" />
<meta property="og:description" content="SV Verification Directory
Virtual Keyword Virtual keyword enables a child class to override a method defined in its parent class. When a virtual keyword is prefixed before a method in the parent class and if the base class handle is pointed to the extended class, then the extended class method handle will get assigned to the base class handle.
Once the virtual keyword is used for the parent class method, all the extended child classes become virtual." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://24x7fpga.com/sv_directory/2024_07_31_10_21_04_virtual_keyword/" /><meta property="article:section" content="sv_directory" />
<meta property="article:published_time" content="2024-07-31T10:21:00-04:00" />
<meta property="article:modified_time" content="2024-07-31T10:21:00-04:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Virtual Keyword"/>
<meta name="twitter:description" content="SV Verification Directory
Virtual Keyword Virtual keyword enables a child class to override a method defined in its parent class. When a virtual keyword is prefixed before a method in the parent class and if the base class handle is pointed to the extended class, then the extended class method handle will get assigned to the base class handle.
Once the virtual keyword is used for the parent class method, all the extended child classes become virtual."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Sv_directories",
      "item": "https://24x7fpga.com/sv_directory/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Virtual Keyword",
      "item": "https://24x7fpga.com/sv_directory/2024_07_31_10_21_04_virtual_keyword/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Virtual Keyword",
  "name": "Virtual Keyword",
  "description": "SV Verification Directory\nVirtual Keyword Virtual keyword enables a child class to override a method defined in its parent class. When a virtual keyword is prefixed before a method in the parent class and if the base class handle is pointed to the extended class, then the extended class method handle will get assigned to the base class handle.\nOnce the virtual keyword is used for the parent class method, all the extended child classes become virtual.",
  "keywords": [
    "sv"
  ],
  "articleBody": "SV Verification Directory\nVirtual Keyword Virtual keyword enables a child class to override a method defined in its parent class. When a virtual keyword is prefixed before a method in the parent class and if the base class handle is pointed to the extended class, then the extended class method handle will get assigned to the base class handle.\nOnce the virtual keyword is used for the parent class method, all the extended child classes become virtual. Syntax // declaration virtual function display(); // execute code endfunction // usage parent_class = child_class; // parent class is pointed to the child class parent_class.display(); // this calls the funtion display() in the base class if virtual keyword // is NOT used, if the virtual keyword is used the function display() will // execute from the child class In cases where the parent class and child class have methods with the same name and arguments, the method that gets executed depends on whether the method is declared as virtual or non-virtual in the parent class. The table below illustrates the behavior for both virtual and non-virtual method declarations in parent and child classes. The method column indicates the origin of the method execution.\nParent Class Child Class Method Execution Non-Virtual Non-Virtual Child Method Non-Virtual Virtual Child Method Virtual Non-Virtual Parent Method Virtual Virtual Parent Method From the table, it can be observed that if the method in the parent class is not declared as virtual, the method will be executed from the child class. Conversely, if the method in the parent class is declared with the virtual keyword, the method from the parent class will be executed.\nExample Code // Parent class class parent_class; // class properties or variables int a, b, s; // task method task func1 (int a,b); s = a + b; $display(\"Parent Class =\u003e a = %0d , b = %0d, sum s = %0d\", a, b, s); endtask virtual task func2 (int a,b); s = a + b; $display(\"Parent Class =\u003e a = %0d , b = %0d, sum s = %0d\", a, b, s); endtask endclass // Child Class class child_class extends parent_class; // class properties or variables int a, b, m; // task method task func1 (int a,b); m = a * b; $display(\"Child Class =\u003e a = %0d , b = %0d, mul m = %0d\", a, b, m); endtask virtual task func2 (int a,b); // good practice to declare a class method as virtual m = a * b; $display(\"Child Class =\u003e a = %0d , b = %0d, mul m = %0d\", a, b, m); endtask endclass module test; parent_class pr_obj; // declare a handle for parent class child_class cl_obj; // declare a handle for child class initial begin cl_obj = new( ); // construct an object pr_obj = cl_obj; // WHEN THE CHILD CLASS HANDLE POINTS TO THE PARENT CLASS HANDLE $display(\"------------ Non-Virtual Method ------------\"); pr_obj.func1(30,10); // access a method $display(\"-------------- Virtual Method --------------\"); pr_obj.func2(30,10); // access a method end endmodule Execute the code in EDA Playground\nPoints to Remember Always declare base class methods as virtual so that existing base class handles will refer to the function override in the child class. ",
  "wordCount" : "531",
  "inLanguage": "en",
  "datePublished": "2024-07-31T10:21:00-04:00",
  "dateModified": "2024-07-31T10:21:00-04:00",
  "author":[{
    "@type": "Person",
    "name": "Kiran"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://24x7fpga.com/sv_directory/2024_07_31_10_21_04_virtual_keyword/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Home",
    "logo": {
      "@type": "ImageObject",
      "url": "https://24x7fpga.com/favicon.ico"
    }
  }
}
</script><link rel="stylesheet" href="/css/syntax.css" !important>

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>


<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://24x7fpga.com/" accesskey="h" title="Home (Alt + H)">Home</a>
            
            
            <div class="vertical-line" style="height: 20px;"></div>
            
            
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://24x7fpga.com/research/2024_07_08_10_15_40_research" title="research">
                    <span> 


                           
                        
                         
                        research</span>  
                </a>
            </li>
            <li>
                <a href="https://24x7fpga.com/rtl_directory/2024_06_05_00_21_53_rtl_design_directory" title="rtl">
                    <span> 


                           
                        
                         
                        rtl</span>  
                </a>
            </li>
            <li>
                <a href="https://24x7fpga.com/sv_directory/2024_06_27_16_53_00_sv_verification_directory" title="sv">
                    <span> 


                           
                        
                         
                        sv</span>  
                </a>
            </li>
            <li>
                <a href="https://24x7fpga.com/uvm_directory/2024_08_28_12_39_50_uvm_framework_directory" title="uvm">
                    <span> 


                           
                        
                         
                        uvm</span>  
                </a>
            </li>
            <li>
                <a href="https://24x7fpga.com/tags/" title="">
                    <span> 


                           
                        
                            
                    
                    
                    

                    
                    
                    

                    
                    
                    
                    


                    
                    
                    
                    

                    
                    
                    
                    
                    
                    
                    
                    
                
                         
                        
                        <div style="text-decoration: none">
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 20"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" style="text-decoration: none">
                            <path d="M21 18V6H8L2 12L8 18H21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 12C12 13.1046 11.1046 14 10 14C8.89543 14 8 13.1046 8 12C8 10.8954 8.89543 10 10 10C11.1046 10 12 10.8954 12 12Z" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                        <line x1="7" y1="7" x2="7" y2="7"></line>
                        </svg> 
                        </div>
                        </span>  
                </a>
            </li>
        </ul>
    </nav>
</header>

<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Virtual Keyword
    </h1>
    <div class="post-meta"><span title='2024-07-31 10:21:00 -0400 EDT'>July 31, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;531 words&nbsp;·&nbsp;Kiran

</div>
  </header> 
  <div class="post-content"><p><a href="/sv_directory/2024_06_27_16_53_00_sv_verification_directory/">SV Verification Directory</a></p>
<h2 id="virtual-keyword">Virtual Keyword<a hidden class="anchor" aria-hidden="true" href="#virtual-keyword">#</a></h2>
<p>Virtual keyword enables a child class to override a method defined in its parent class. When a <strong>virtual</strong> keyword is prefixed before a method in the parent class and if the base class handle is pointed to the extended class, then the extended class method handle will get assigned to the base class handle.</p>
<ul>
<li>Once the virtual keyword is used for the parent class method, all the extended child classes become virtual.</li>
</ul>
<h4 id="syntax">Syntax<a hidden class="anchor" aria-hidden="true" href="#syntax">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-verilog" data-lang="verilog"><span style="display:flex;"><span><span style="color:#75715e">// declaration
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>virtual <span style="color:#66d9ef">function</span> display();
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// execute code
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">endfunction</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// usage
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>parent_class <span style="color:#f92672">=</span> child_class;   <span style="color:#75715e">// parent class is pointed to the child class
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>parent_class.display();       <span style="color:#75715e">// this calls the funtion display() in the base class if virtual keyword
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                              <span style="color:#75715e">// is NOT used, if the virtual keyword is used the function display() will
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                              <span style="color:#75715e">// execute from the child class
</span></span></span></code></pre></div><h2 id="d41d8c"><a hidden class="anchor" aria-hidden="true" href="#d41d8c">#</a></h2>
<p>In cases where the parent class and child class have methods with the same name and arguments, the method that gets executed depends on whether the method is declared as virtual or non-virtual in the parent class. The table below illustrates the behavior for both virtual and non-virtual method declarations in parent and child classes. The method column indicates the origin of the method execution.</p>
<table>
<thead>
<tr>
<th>Parent Class</th>
<th>Child Class</th>
<th>Method Execution</th>
</tr>
</thead>
<tbody>
<tr>
<td>Non-Virtual</td>
<td>Non-Virtual</td>
<td>Child Method</td>
</tr>
<tr>
<td>Non-Virtual</td>
<td>Virtual</td>
<td>Child Method</td>
</tr>
<tr>
<td>Virtual</td>
<td>Non-Virtual</td>
<td>Parent Method</td>
</tr>
<tr>
<td>Virtual</td>
<td>Virtual</td>
<td>Parent Method</td>
</tr>
</tbody>
</table>
<p>From the table, it can be observed that if the method in the parent class is not declared as virtual, the method will be executed from the child class. Conversely, if the method in the parent class is declared with the virtual keyword, the method from the parent class will be executed.</p>
<h4 id="example-code">Example Code<a hidden class="anchor" aria-hidden="true" href="#example-code">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-verilog" data-lang="verilog"><span style="display:flex;"><span><span style="color:#75715e">// Parent class
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>class parent_class;
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// class properties or variables
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">int</span> a, b, s;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// task method
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">task</span> func1 (<span style="color:#66d9ef">int</span> a,b);
</span></span><span style="display:flex;"><span>    s      <span style="color:#f92672">=</span> a <span style="color:#f92672">+</span> b;
</span></span><span style="display:flex;"><span>    $display(<span style="color:#e6db74">&#34;Parent Class =&gt; a = %0d , b = %0d, sum s = %0d&#34;</span>, a, b, s);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">endtask</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   virtual <span style="color:#66d9ef">task</span> func2 (<span style="color:#66d9ef">int</span> a,b);
</span></span><span style="display:flex;"><span>    s      <span style="color:#f92672">=</span> a <span style="color:#f92672">+</span> b;
</span></span><span style="display:flex;"><span>    $display(<span style="color:#e6db74">&#34;Parent Class =&gt; a = %0d , b = %0d, sum s = %0d&#34;</span>, a, b, s);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">endtask</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>endclass
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Child Class
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>class child_class extends parent_class;
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// class properties or variables
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">int</span> a, b, m;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// task method
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">task</span> func1 (<span style="color:#66d9ef">int</span> a,b);
</span></span><span style="display:flex;"><span>    m      <span style="color:#f92672">=</span> a <span style="color:#f92672">*</span> b;
</span></span><span style="display:flex;"><span>    $display(<span style="color:#e6db74">&#34;Child Class  =&gt; a = %0d , b = %0d, mul m = %0d&#34;</span>, a, b, m);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">endtask</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  virtual <span style="color:#66d9ef">task</span> func2 (<span style="color:#66d9ef">int</span> a,b); <span style="color:#75715e">// good practice to declare a class method as virtual
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    m      <span style="color:#f92672">=</span> a <span style="color:#f92672">*</span> b;
</span></span><span style="display:flex;"><span>    $display(<span style="color:#e6db74">&#34;Child Class  =&gt; a = %0d , b = %0d, mul m = %0d&#34;</span>, a, b, m);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">endtask</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>endclass
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">module</span> test;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  parent_class pr_obj;          <span style="color:#75715e">// declare a handle for parent class
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  child_class cl_obj;           <span style="color:#75715e">// declare a handle for child class
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">initial</span> <span style="color:#66d9ef">begin</span>
</span></span><span style="display:flex;"><span>     cl_obj <span style="color:#f92672">=</span> new( );           <span style="color:#75715e">// construct an object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>     pr_obj <span style="color:#f92672">=</span> cl_obj;           <span style="color:#75715e">// WHEN THE CHILD CLASS HANDLE POINTS TO THE PARENT CLASS HANDLE
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>     $display(<span style="color:#e6db74">&#34;------------ Non-Virtual Method ------------&#34;</span>);
</span></span><span style="display:flex;"><span>     pr_obj.func1(<span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">10</span>);       <span style="color:#75715e">// access a method
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>     $display(<span style="color:#e6db74">&#34;-------------- Virtual Method --------------&#34;</span>);
</span></span><span style="display:flex;"><span>     pr_obj.func2(<span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">10</span>);       <span style="color:#75715e">// access a method
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">endmodule</span>
</span></span></code></pre></div><p><a href="https://www.edaplayground.com/x/QmAz">Execute the code in EDA Playground</a></p>
<h3 id="points-to-remember">Points to Remember<a hidden class="anchor" aria-hidden="true" href="#points-to-remember">#</a></h3>
<ol>
<li>Always declare base class methods as <strong>virtual</strong> so that existing base class handles will refer to the function <strong>override</strong> in the child class.</li>
</ol>


  </div>



  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://24x7fpga.com/tags/sv/">sv</a></li>
    </ul>



    <div class="bottom-line" ></div>
    
    
    
      <img src="/img/org_mode.png" class="center" alt="footer" style="max-width:50px" />
    

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://24x7fpga.com/"></a></span>
        
        


</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><footer class="footer">

</footer>



<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
